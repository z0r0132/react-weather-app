(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),i=a(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(81),s=a(82),u=a(91),d=a(93),h=a(257),p=a(256),m=a(258),f=a(259),g=a(250),b=a(248),E=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row"}}})),v=function(e){var t=e.units,a=e.onToggleUnits,o=E(),c=Object(n.useCallback)((function(e){a(e.target.value)}),[a]);return r.a.createElement("div",null,r.a.createElement(f.a,{className:o.root,name:"units",value:t,onChange:c},r.a.createElement(g.a,{value:"celsius",control:r.a.createElement(m.a,null),label:"Celsius"}),r.a.createElement(g.a,{value:"fahrenheit",control:r.a.createElement(m.a,null),label:"Fahrenheit"})))},w=a(92),O=a(12),T=a.n(O),y=a(86),C=a.n(y),j=(a(121),a(122),a(254)),k=a(255),S=a(221),x=a(222),A=a(260),_=a(253),R=a(252),D=a(44),F=a(251),N=a(45),G=a(90),I=Object(G.a)({palette:{type:"dark",background:{light:"#86B9E0",dark:"rgb(26, 26, 26)"},common:{white:"#FFF",black:"#000"},primary:D.a,secondary:F.a,error:N.a,contrastThreshold:3},typography:{fontFamily:"Lato, sans-serif"}}),W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=function(e,t){return Math.round("celsius"===t?5/9*(e-32):e)},B=function(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(W[t.getMonth()]," ").concat(t.getFullYear().toString().slice(2))},H=Object(x.a)((function(e){return{card:{borderRadius:"1rem",boxShadow:"none",color:e.palette.common.white,cursor:"pointer",minWidth:200,position:"relative",border:function(e){var t=e.id;return e.activeDate===t&&"2px solid"},"&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))"}},content:{position:"absolute",zIndex:2,bottom:0,width:"100%"},h2:{fontWeight:400},h5:{textTransform:"capitalize"}}})),U=function(e){var t=e.id,a=e.forecast,o=e.units,c=e.date,i=e.onDateChange,l=H({id:B(t),activeDate:B(c)}),s=a.dt_txt,u=a.main.temp,d=Object(n.useMemo)((function(){return function(e,t){return"".concat(M(e,t)).concat("celsius"===t?"C":"F")}(u,o)}),[u,o]),h=Object(n.useMemo)((function(){return B(s)}),[s]),p=Object(n.useCallback)((function(){i(t)}),[t,i]);return r.a.createElement(A.a,{className:l.card,onClick:p},r.a.createElement(R.a,{className:l.media,component:"img",alt:"cloudy sky",image:"https://images.pexels.com/photos/531756/pexels-photo-531756.jpeg?cs=srgb&dl=pexels-pixabay-531756.jpg&fm=jpg",title:"cloudy sky"}),r.a.createElement(_.a,{className:l.content},r.a.createElement(S.a,{className:l.h2,gutterBottom:!0,variant:"h2",component:"h2",color:"inherit"},d),r.a.createElement(S.a,{className:l.h5,gutterBottom:!0,variant:"h5",component:"h2",color:"inherit"},h)))},L=Object(b.a)((function(e){return{carousel:{width:"85%",height:"100%",margin:"auto"},arrow:{cursor:"pointer",position:"absolute",top:"-75px",display:"flex",alignItems:"center",color:e.palette.common.white,zIndex:1,"&.prevArrow":{left:0,justifyContent:"flex-start",display:function(e){return e.currentSlide?"block":"none"}},"&.nextArrow":{right:0,justifyContent:"flex-end",display:function(e){var t=e.slidesToShow;return e.currentSlide+t===e.slideCount?"none":"block"}}},slider:{"& .slick-list":{width:"90vw"},"& .slick-slide":{padding:e.spacing(1)}}}})),z=function(e){var t=e.slidesToShow,a=e.currentSlide,n=e.slideCount,o=e.onClick,c=L({slidesToShow:t,currentSlide:a,slideCount:n});return r.a.createElement("div",{className:T()(c.arrow,"nextArrow"),onClick:o},r.a.createElement(j.a,{color:"inherit",fontSize:"large"}))},J=function(e){var t=e.currentSlide,a=e.onClick,n=L({currentSlide:t});return r.a.createElement("div",{className:T()(n.arrow,"prevArrow"),onClick:a},r.a.createElement(k.a,{color:"inherit",fontSize:"large"}))},P=function(e){var t,a=e.carouselClass,o=e.units,c=e.date,i=e.weatherInfo,l=e.data,s=e.onDateChange,u=L(),d=Object(n.useMemo)((function(){return window.matchMedia("(max-width: 750px)").matches?1:3}),[]),h={slidesToShow:d,swipeToSlide:!0,nextArrow:r.a.createElement(z,{slidesToShow:d}),prevArrow:r.a.createElement(J,null),responsive:[{breakpoint:750,settings:{slidesToShow:d}}]};return(null===l||void 0===l||null===(t=l.list)||void 0===t?void 0:t.length)?r.a.createElement("div",{className:a},r.a.createElement(C.a,Object.assign({},h,{className:u.slider}),Object.entries(i).map((function(e){var t=Object(w.a)(e,2),a=t[0],n=t[1];return r.a.createElement(U,{key:a,id:a,date:c,forecast:n[0],units:o,onDateChange:s})})))):null},q=Object(b.a)((function(e){return{carousel:{marginBottom:e.spacing(6),paddingTop:e.spacing(12)}}})),Y=function(e){var t=e.units,a=e.date,n=e.weatherInfo,o=e.data,c=e.onDateChange,i=q();return r.a.createElement(P,{carouselClass:i.carousel,units:t,date:a,weatherInfo:n,data:o,onDateChange:c})};Y.defaultProps={weatherInfo:{}};var $=Y,K=a(87),Q=a(43),V=Object(b.a)((function(e){return Object(Q.a)({root:{paddingTop:e.spacing(2),position:"relative",width:"75%",height:"300px",background:e.palette.common.white}},e.breakpoints.down("sm"),{root:{width:"100%"}})})),X=function(e){var t=e.units,a=e.chartData,o=V(),c=Object(n.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return{};var a=[],n=[];return t.forEach((function(t){var r=t.dt_txt,o=t.main.temp,c=r.split(" ")[1],i=M(o,e);a.push(c),n.push(i)})),{labels:a,datasets:[{label:"Weather on ".concat(B(t[0].dt_txt)," (per 3 hours)"),backgroundColor:I.palette.background.light,borderColor:I.palette.background.dark,borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:n}]}}(t,a)}),[a,t]);return r.a.createElement("div",{className:o.root},r.a.createElement(K.Bar,{data:c,width:100,height:50,options:{maintainAspectRatio:!1}}))},Z=a(59),ee=a.n(Z),te=a(88),ae=function(e){return fetch(e).then((function(e){if(200!==e.status)throw new Error("unexpected response");return e.json()})).then((function(e){return e}))},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Munich,de",t="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&units=imperial&cnt=40");return ae(t)},re=function(e){return e.weatherForecast},oe=function(e){var t=re(e).data.list;return function(e){return e.reduce((function(e,t){var a=t.dt_txt.split(" ")[0];return e[a]||(e[a]=[]),e[a].push(t),e}),{})}(void 0===t?[]:t)},ce=function(e){var t=re(e).date,a=oe(e);return a[t]||a[Object.keys(a)[0]]},ie=function(){var e=Object(i.c)(),t=Object(n.useCallback)((function(){e(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_WEATHER_FORECAST_START"}),e.next=4,ne();case 4:a=e.sent,t({type:"GET_WEATHER_FORECAST_SUCCESS",payload:{data:a}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GET_WEATHER_FORECAST_ERROR",payload:{error:e.t0}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a=Object(n.useCallback)((function(t){e(function(e){return{type:"TOGGLE_TEMP_UNITS",payload:e}}(t))}),[e]),r=Object(n.useCallback)((function(t){e(function(e){return{type:"DATE_CHANGE",payload:e}}(t))}),[e]),o=Object(i.d)(re),c=o.date,l=o.units,s=o.action,u=o.error,d=o.data,h=Object(i.d)(oe);return{dispatchGetWeatherForecast:t,dispatchToggleUnits:a,dispatchDateChange:r,date:c,units:l,chartData:Object(i.d)(ce),weatherInfo:h,data:d,action:s,error:u,isLoading:"GET_WEATHER_FORECAST_START"===s}},le=function(){var e=ie(),t=e.units,a=e.date,o=e.chartData,c=e.weatherInfo,i=e.data,l=e.isLoading,s=e.dispatchGetWeatherForecast,u=e.dispatchToggleUnits,d=e.dispatchDateChange;return Object(n.useEffect)((function(){s()}),[s]),l?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{units:t,onToggleUnits:u}),r.a.createElement($,{units:t,date:a,weatherInfo:c,data:i,isLoading:l,onDateChange:d}),r.a.createElement(X,{units:t,chartData:o}))},se=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}},r.a.createElement(le,null))},ue=Object(b.a)((function(e){return{root:{display:"flex",backgroundColor:e.palette.background.dark,color:e.palette.common.white,height:"100%"},content:{flexGrow:1,marginTop:e.spacing(7)}}})),de=function(e){var t=e.children,a=ue();return r.a.createElement("div",{className:a.root},r.a.createElement("main",{className:T()(a.content)},t))},he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{theme:I},r.a.createElement(h.a,null),r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(de,null,r.a.createElement(se,null))))}}]),a}(n.Component),pe=Object(i.b)((function(e){return{}}),null)(he),me=a(16),fe=a(89),ge=a(20),be={date:new Date,units:"fahrenheit",action:"",error:null,data:{list:[]}};var Ee=Object(me.c)({weatherForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_FORECAST_START":return Object(ge.a)({},e,{action:t.type});case"GET_WEATHER_FORECAST_SUCCESS":return Object(ge.a)({},e,{action:t.type,data:t.payload.data});case"GET_WEATHER_FORECAST_ERROR":return Object(ge.a)({},e,{action:t.type,error:t.payload.error});case"TOGGLE_TEMP_UNITS":return Object(ge.a)({},e,{action:t.type,units:t.payload});case"DATE_CHANGE":return Object(ge.a)({},e,{action:t.type,date:t.payload});default:return e}}}),ve=Object(me.d)(Ee,Object(me.a)(fe.a));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:ve},r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(219)}},[[97,1,2]]]);
//# sourceMappingURL=main.a5834f4c.chunk.js.map